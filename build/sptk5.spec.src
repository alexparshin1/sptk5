# Don't try fancy stuff like debuginfo, which is useless on binary-only
# packages. Don't strip binary too
# Be sure buildpolicy set to do nothing
%define        __spec_install_post %{nil}
%define          debug_package %{nil}
%define        __os_install_post %{_dbpath}/brp-compress
%define        __debug_package 1

Summary:            Simply Powerful Toolkit
Name:               sptk5
Version:            {{VERSION}}
Release:            {{RELEASE}}%{?dist}
License:            Telstra Proprietary
Group:              Database/Development
Source:             %{name}.tar.gz
URL:                http://somewhere.on.the.edge
Requires:           libc.so.6()(64bit) libc.so.6(GLIBC_2.2.5)(64bit) libgcc_s.so.1()(64bit) libgcc_s.so.1(GCC_3.0)(64bit) libm.so.6()(64bit) libm.so.6(GLIBC_2.2.5)(64bit) libpq.so.5()(64bit) libpthread.so.0()(64bit) libpthread.so.0(GLIBC_2.2.5)(64bit) libstdc++.so.6()(64bit) libstdc++.so.6(CXXABI_1.3)(64bit) libstdc++.so.6(GLIBCXX_3.4)(64bit) libstdc++.so.6(GLIBCXX_3.4.5)(64bit) rtld(GNU_HASH)

BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}.x86_64

%description
Cross-platform C++ class library.

%debug_package

%prep
%setup -q
cmake3 -DCMAKE_INSTALL_PREFIX:PATH=$RPM_BUILD_ROOT/usr/local -DUSE_GTEST=OFF -DBUILD_EXAMPLES=OFF .

%build
make -j${CORES}

%install
#%make_install

make install/strip

%clean
rm -rf %{buildroot}

%files
/usr/local/bin/wsdl2cxx
/usr/local/bin/load_balance
/usr/local/include/sptk5/Base64.h
/usr/local/include/sptk5/Buffer.h
/usr/local/include/sptk5/CaseInsensitiveCompare.h
/usr/local/include/sptk5/cdatabase
/usr/local/include/sptk5/cgui
/usr/local/include/sptk5/cnet
/usr/local/include/sptk5/CommandLine.h
/usr/local/include/sptk5/Crypt.h
/usr/local/include/sptk5/CSmallPixmapIDs.h
/usr/local/include/sptk5/cthreads
/usr/local/include/sptk5/cutils
/usr/local/include/sptk5/cxml
/usr/local/include/sptk5/DataSource.h
/usr/local/include/sptk5/DateTime.h
/usr/local/include/sptk5/db
/usr/local/include/sptk5/db/ConnectionParameters.h
/usr/local/include/sptk5/db/QueryParameter.h
/usr/local/include/sptk5/db/DatabaseConnectionParameters.h
/usr/local/include/sptk5/db/ODBCEnvironment.h
/usr/local/include/sptk5/db/DatabaseTests.h
/usr/local/include/sptk5/db/MySQLConnection.h
/usr/local/include/sptk5/db/OracleEnvironment.h
/usr/local/include/sptk5/db/OracleConnection.h
/usr/local/include/sptk5/db/DatabaseField.h
/usr/local/include/sptk5/db/MySQLStatement.h
/usr/local/include/sptk5/db/OracleStatement.h
/usr/local/include/sptk5/db/FirebirdStatement.h
/usr/local/include/sptk5/db/QueryParameterList.h
/usr/local/include/sptk5/db/Transaction.h
/usr/local/include/sptk5/db/DatabaseStatement.h
/usr/local/include/sptk5/db/OracleABI.h
/usr/local/include/sptk5/db/AutoDatabaseConnection.h
/usr/local/include/sptk5/db/QueryParameterBinding.h
/usr/local/include/sptk5/db/Query.h
/usr/local/include/sptk5/db/DatabaseConnectionPool.h
/usr/local/include/sptk5/db/FirebirdConnection.h
/usr/local/include/sptk5/db/SQLite3Connection.h
/usr/local/include/sptk5/db/DatabaseConnectionString.h
/usr/local/include/sptk5/db/PoolDatabaseConnection.h
/usr/local/include/sptk5/db/PostgreSQLConnection.h
/usr/local/include/sptk5/db/ODBCConnection.h
/usr/local/include/sptk5/DebugMacros.h
/usr/local/include/sptk5/DirectoryDS.h
/usr/local/include/sptk5/Exception.h
/usr/local/include/sptk5/Field.h
/usr/local/include/sptk5/FieldList.h
/usr/local/include/sptk5/filedefs.h
/usr/local/include/sptk5/FileLogEngine.h
/usr/local/include/sptk5/IntList.h
/usr/local/include/sptk5/json
/usr/local/include/sptk5/json/JsonObjectData.h
/usr/local/include/sptk5/json/JsonArrayData.h
/usr/local/include/sptk5/json/JsonDocument.h
/usr/local/include/sptk5/json/JsonElement.h
/usr/local/include/sptk5/json/JsonParser.h
/usr/local/include/sptk5/JWT.h
/usr/local/include/sptk5/LogEngine.h
/usr/local/include/sptk5/Logger.h
/usr/local/include/sptk5/LogPriority.h
/usr/local/include/sptk5/Loop.h
/usr/local/include/sptk5/md5.h
/usr/local/include/sptk5/MemoryDS.h
/usr/local/include/sptk5/net
/usr/local/include/sptk5/net/IPAddress.h
/usr/local/include/sptk5/net/HttpReader.h
/usr/local/include/sptk5/net/SSLContext.h
/usr/local/include/sptk5/net/TCPServerListener.h
/usr/local/include/sptk5/net/SocketEvents.h
/usr/local/include/sptk5/net/HttpParams.h
/usr/local/include/sptk5/net/TCPSocket.h
/usr/local/include/sptk5/net/SmtpConnect.h
/usr/local/include/sptk5/net/SSLServerConnection.h
/usr/local/include/sptk5/net/SocketPool.h
/usr/local/include/sptk5/net/MailMessageBody.h
/usr/local/include/sptk5/net/UDPSocket.h
/usr/local/include/sptk5/net/HttpAuthentication.h
/usr/local/include/sptk5/net/ServerConnection.h
/usr/local/include/sptk5/net/TCPServer.h
/usr/local/include/sptk5/net/CachedSSLContext.h
/usr/local/include/sptk5/net/ImapConnect.h
/usr/local/include/sptk5/net/HttpConnect.h
/usr/local/include/sptk5/net/Host.h
/usr/local/include/sptk5/net/SSLSocket.h
/usr/local/include/sptk5/net/TCPServerConnection.h
/usr/local/include/sptk5/net/BaseSocket.h
/usr/local/include/sptk5/net/BaseMailConnect.h
/usr/local/include/sptk5/net/SSLKeys.h
/usr/local/include/sptk5/net/ImapDS.h
/usr/local/include/sptk5/PackedStrings.h
/usr/local/include/sptk5/Printer.h
/usr/local/include/sptk5/ReadBuffer.h
/usr/local/include/sptk5/Registry.h
/usr/local/include/sptk5/RegularExpression.h
/usr/local/include/sptk5/SharedStrings.h
/usr/local/include/sptk5/sptk-config.h
/usr/local/include/sptk5/sptk.h
/usr/local/include/sptk5/StopWatch.h
/usr/local/include/sptk5/string_ext.h
/usr/local/include/sptk5/String.h
/usr/local/include/sptk5/Strings.h
/usr/local/include/sptk5/SysLogEngine.h
/usr/local/include/sptk5/SystemException.h
/usr/local/include/sptk5/Tar.h
/usr/local/include/sptk5/test
/usr/local/include/sptk5/test/TestRunner.h
/usr/local/include/sptk5/threads
/usr/local/include/sptk5/threads/Runable.h
/usr/local/include/sptk5/threads/SynchronizedQueue.h
/usr/local/include/sptk5/threads/Flag.h
/usr/local/include/sptk5/threads/Location.h
/usr/local/include/sptk5/threads/Timer.h
/usr/local/include/sptk5/threads/ThreadPool.h
/usr/local/include/sptk5/threads/Semaphore.h
/usr/local/include/sptk5/threads/Thread.h
/usr/local/include/sptk5/threads/SynchronizedList.h
/usr/local/include/sptk5/threads/SynchronizedMap.h
/usr/local/include/sptk5/threads/ThreadEvent.h
/usr/local/include/sptk5/threads/Locks.h
/usr/local/include/sptk5/threads/WorkerThread.h
/usr/local/include/sptk5/UniqueInstance.h
/usr/local/include/sptk5/VariantData.h
/usr/local/include/sptk5/Variant.h
/usr/local/include/sptk5/wsdl
/usr/local/include/sptk5/wsdl/WSBasicTypes.h
/usr/local/include/sptk5/wsdl/SourceModule.h
/usr/local/include/sptk5/wsdl/WSTypeTranslator.h
/usr/local/include/sptk5/wsdl/WSListener.h
/usr/local/include/sptk5/wsdl/WSParserComplexType.h
/usr/local/include/sptk5/wsdl/WSRestriction.h
/usr/local/include/sptk5/wsdl/WSComplexType.h
/usr/local/include/sptk5/wsdl/WSRequest.h
/usr/local/include/sptk5/wsdl/WSMessageIndex.h
/usr/local/include/sptk5/wsdl/NotEmptyString.h
/usr/local/include/sptk5/wsdl/WSParser.h
/usr/local/include/sptk5/xml
/usr/local/include/sptk5/xml/Element.h
/usr/local/include/sptk5/xml/Node.h
/usr/local/include/sptk5/xml/NodeList.h
/usr/local/include/sptk5/xml/Document.h
/usr/local/include/sptk5/xml/DocType.h
/usr/local/include/sptk5/xml/Attributes.h
/usr/local/include/sptk5/xml/Entities.h
/usr/local/include/sptk5/xml/XMLException.h
/usr/local/include/sptk5/ZLib.h
/usr/local/lib/libspdb5_mysql.so
/usr/local/lib/libspdb5_mysql.so.5
/usr/local/lib/libspdb5_mysql.so.5.2.15
/usr/local/lib/libspdb5_mysql.so.5.2.17
/usr/local/lib/libspdb5_mysql.so.5.2.19
/usr/local/lib/libspdb5_odbc.so
/usr/local/lib/libspdb5_odbc.so.5
/usr/local/lib/libspdb5_odbc.so.5.2.15
/usr/local/lib/libspdb5_odbc.so.5.2.17
/usr/local/lib/libspdb5_odbc.so.5.2.19
/usr/local/lib/libspdb5_oracle.so
/usr/local/lib/libspdb5_oracle.so.5
/usr/local/lib/libspdb5_oracle.so.5.2.15
/usr/local/lib/libspdb5_oracle.so.5.2.17
/usr/local/lib/libspdb5_oracle.so.5.2.19
/usr/local/lib/libspdb5_postgresql.so
/usr/local/lib/libspdb5_postgresql.so.5
/usr/local/lib/libspdb5_postgresql.so.5.2.15
/usr/local/lib/libspdb5_postgresql.so.5.2.17
/usr/local/lib/libspdb5_postgresql.so.5.2.19
/usr/local/lib/libspdb5.so
/usr/local/lib/libspdb5.so.5
/usr/local/lib/libspdb5.so.5.2.15
/usr/local/lib/libspdb5.so.5.2.17
/usr/local/lib/libspdb5.so.5.2.19
/usr/local/lib/libsptest.so
/usr/local/lib/libsptest.so.5
/usr/local/lib/libsptest.so.5.2.15
/usr/local/lib/libsptest.so.5.2.17
/usr/local/lib/libsptest.so.5.2.19
/usr/local/lib/libsputil5.so
/usr/local/lib/libsputil5.so.5
/usr/local/lib/libsputil5.so.5.2.15
/usr/local/lib/libsputil5.so.5.2.17
/usr/local/lib/libsputil5.so.5.2.19
/usr/local/lib/libspwsdl5.so
/usr/local/lib/libspwsdl5.so.5
/usr/local/lib/libspwsdl5.so.5.2.15
/usr/local/lib/libspwsdl5.so.5.2.17
/usr/local/lib/libspwsdl5.so.5.2.19

#%doc README

%changelog
