IF (WIN32)
   SET (PCRE_POSSIBLE_INCLUDE_PATHS $ENV{SystemDrive}/*/include $ENV{ProgramFiles}/*/include)
   SET (PCRE_POSSIBLE_LIB_PATHS $ENV{SystemDrive}/*/lib $ENV{ProgramFiles}/*/lib)
ELSE (WIN32)
   SET (PCRE_POSSIBLE_INCLUDE_PATHS /usr/include/pcre /usr/pcre/include /usr/local/include/pcre)
   SET (PCRE_POSSIBLE_LIB_PATHS /usr/lib /usr/local/lib)
ENDIF (WIN32)

FIND_PATH(PCRE_INCLUDE_DIR pcre.h ${PCRE_POSSIBLE_INCLUDE_PATHS})
FIND_LIBRARY(PCRE_LIBRARY NAMES pcre PATHS ${PCRE_POSSIBLE_LIB_PATHS})

IF (PCRE_INCLUDE_DIR AND PCRE_LIBRARY)
   SET(PCRE_FOUND TRUE)
ENDIF (PCRE_INCLUDE_DIR AND PCRE_LIBRARY)

IF (PCRE_FOUND)
   IF (NOT PCRE_FIND_QUIETLY)
      MESSAGE(STATUS "Found PCRE: ${PCRE_LIBRARY}")
   ENDIF (NOT PCRE_FIND_QUIETLY)
ELSE (PCRE_FOUND)
   IF (PCRE_FIND_REQUIRED)
      MESSAGE(FATAL_ERROR "Could not find PCRE")
   ENDIF (PCRE_FIND_REQUIRED)
ENDIF (PCRE_FOUND)
